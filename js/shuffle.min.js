/*!
 * Start Bootstrap - Agency v5.0.6 (https://startbootstrap.com/template-overviews/agency)
 * Copyright 2013-2022 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-agency/blob/master/LICENSE)
 */

"use strict";var Shuffle=window.Shuffle,Demo=function(t){this.shapes=Array.from(document.querySelectorAll(".js-shapes input")),this.colors=Array.from(document.querySelectorAll(".js-colors button")),this.shuffle=new Shuffle(t,{easing:"cubic-bezier(0.165, 0.840, 0.440, 1.000)",sizer:".the-sizer"}),this.filters={shapes:[],colors:[]},this._bindEventListeners()};Demo.prototype._bindEventListeners=function(){this._onShapeChange=this._handleShapeChange.bind(this),this._onColorChange=this._handleColorChange.bind(this),this.shapes.forEach(function(t){t.addEventListener("change",this._onShapeChange)},this),this.colors.forEach(function(t){t.addEventListener("click",this._onColorChange)},this)},Demo.prototype._getCurrentShapeFilters=function(){return this.shapes.filter(function(t){return t.checked}).map(function(t){return t.value})},Demo.prototype._getCurrentColorFilters=function(){return this.colors.filter(function(t){return t.classList.contains("active")}).map(function(t){return t.getAttribute("data-value")})},Demo.prototype._handleShapeChange=function(){this.filters.shapes=this._getCurrentShapeFilters(),this.filter()},Demo.prototype._handleColorChange=function(t){t=t.currentTarget;t.classList.contains("active")?t.classList.remove("active"):(this.colors.forEach(function(t){t.classList.remove("active")}),t.classList.add("active")),this.filters.colors=this._getCurrentColorFilters(),this.filter()},Demo.prototype.filter=function(){this.hasActiveFilters()?this.shuffle.filter(this.itemPassesFilters.bind(this)):this.shuffle.filter(Shuffle.ALL_ITEMS)},Demo.prototype.hasActiveFilters=function(){return Object.keys(this.filters).some(function(t){return 0<this.filters[t].length},this)},Demo.prototype.itemPassesFilters=function(t){var e=this.filters.shapes,s=this.filters.colors,i=t.getAttribute("data-shape"),t=t.getAttribute("data-color");return!(0<e.length&&!e.includes(i))&&!(0<s.length&&!s.includes(t))},document.addEventListener("DOMContentLoaded",function(){window.demo=new Demo(document.querySelector(".js-shuffle"))});